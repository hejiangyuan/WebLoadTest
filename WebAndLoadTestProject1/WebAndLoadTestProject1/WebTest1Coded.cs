//------------------------------------------------------------------------------
// <auto-generated>
//     此代码由工具生成。
//     运行时版本:4.0.30319.18444
//
//     对此文件的更改可能会导致不正确的行为，并且如果
//     重新生成代码，这些更改将会丢失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace WebAndLoadTestProject1
{
    using System;
    using System.Collections.Generic;
    using System.Text;
    using Microsoft.VisualStudio.TestTools.WebTesting;


    public class WebTest1Coded : WebTest
    {

        public WebTest1Coded()
        {
            this.PreAuthenticate = true;
            this.Proxy = "default";
        }

        public override IEnumerator<WebTestRequest> GetRequestEnumerator()
        {
            WebTestRequest request1 = new WebTestRequest("http://192.168.0.40:7010/Login.aspx");
            request1.ThinkTime = 2;
            request1.FollowRedirects = false;
            request1.Method = "POST";
            FormPostHttpBody request1Body = new FormPostHttpBody();
            request1Body.FormPostParameters.Add("loginName", "terry");
            request1Body.FormPostParameters.Add("pwd", "start111");
            request1Body.FormPostParameters.Add("__EVENTTARGET", "btnUserLogin");
            request1Body.FormPostParameters.Add("__VIEWSTATE", @"/wEPDwUKMTQ0MjQyNDczOQ9kFgICAw9kFgQCDw8PFgIeC05hdmlnYXRlVXJsBTpodHRwOi8vY29udGFpbmVyLm9wZW4udGFvYmFvLmNvbS9jb250YWluZXI/YXBwa2V5PTEyMjM4MDQ5ZGQCEQ8PFgIfAAVqaHR0cDovL2Z1d3UucGFpcGFpLmNvbS9teS9hcHAvYXV0aG9yaXplR2V0QWNjZXNzVG9rZW4ueGh0bWw/cmVzcG9uc2VUeXBlPWFjY2Vzc190b2tlbiZhcHBPQXV0aElEPTcwMDIwMTA3M2RkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYBBQtjaGtSZW1lbWJlcu7Fg/2V5HE00UK1NBaSkX8zgcBIaXPFqQjg9PA89Pbp");
            request1.Body = request1Body;
            yield return request1;
            request1 = null;

            //WebTestRequest request2 = new WebTestRequest("http://192.168.0.40:7010/Document/DocumentEdit.aspx");
            //request2.ThinkTime = 5;
            //request2.QueryStringParameters.Add("docSubType", "NSO", false, false);
            //yield return request2;
            //request2 = null;

            var dtid = Guid.NewGuid();

            var doc =
                string.Concat("{\"DtParentDoc\":null,\"Timestamp\":null,\"DtOperatorId\":null,\"DtOperatorName\":null,\"DtDeliveryDate\":\"\",\"RoundAmount\":0,\"ListCoupon\":[],\"PromotionGroup\":null,\"MemberExchange\":null,\"MemberCard\":null,\"DtId\":\"" , dtid.ToString() , "\",\"DtDesc\":null,\"DtType\":\"SO\",\"DtSubType\":\"NSO\",\"DtCode\":null,\"DtDate\":\"2015-01-16 15:40:33\",\"DtSupplier\":null,\"DtSupplierDesc\":null,\"DtCustomer\":\"1021X016\",\"DtCustomerDesc\":null,\"DtShopA\":\"101ODD16\",\"DtWarehouseA\":\"101ODB16\",\"DtShopB\":null,\"DtWarehouseB\":null,\"DtFeeAmount\":0,\"DtStatus\":\"30\",\"DtBizStatus\":\"40\",\"DtLogiCompany\":\"\",\"DtLogiNumber\":\"\",\"DtActualDeliverDate\":null,\"DtDeliveryAddress\":\"22222\",\"DtDeliveryPhone1\":\"11111111111\",\"DtDeliveryPhone2\":\"\",\"DtCusMessage\":\"\",\"DtSellerComment\":\"\",\"DtHasInvoice\":0,\"DtInvoiceHead\":\"\",\"DtInvoiceComment\":\"\",\"DtIsEditable\":1,\"DtSellerId\":\"\",\"DtLogisticMatchType\":null,\"DtPriority\":null,\"DtComment\":\"\",\"DtHasException\":0,\"DtExceptionDesc\":null,\"DtIsLock\":0,\"DtLockUser\":null,\"DtLockUserId\":null,\"DtLockTime\":null,\"DtIsBlock\":0,\"DtBlockReason\":null,\"DtSelectedDeliveryWay\":null,\"DtChangeNumber\":null,\"DtDeliveryName\":\"测试\",\"DtDeliveryProvince\":\"10048C\",\"DtDeliveryCity\":\"100504\",\"DtDeliveryDistrict\":null,\"DtDeliveryPostcode\":\"\",\"DeliveryCityText\":\"亳州\",\"DeliveryProvinceText\":\"安徽\",\"DeliveryDistrictText\":null,\"DtFullDeliveryAddress\":\"安徽 亳州  22222\",\"DtExternalSystemType\":null,\"DtStar\":null,\"DtExternalCode\":\"\",\"IsMergeDoc\":false,\"SourceId\":\"\",\"DtSpecialReason\":null,\"State\":1,\"DtCategory\":\"101NU916\",\"DtDischargeAmount\":null,\"DtCashier\":null,\"DtScene\":null,\"ParentDocType\":null,\"CwrId\":null,\"CusTradeType\":null,\"DtRefundToLocalAccount\":0,\"DtUniqueIdentity\":null,\"ControlParam\":{\"lotExpiredControl\":\"NotInterfere\",\"lotStrictCheck\":false},\"LotnoEnabed\":false,\"DtPackageQtyAuto\":\"1\",\"DtDeliveryComment\":\"\",\"DtSecondBizStatus\":null,\"DtThirdBizStatus\":null,\"DtDiffAmount\":null,\"DtDiffDesc\":null,\"DtHasReturnGoods\":0}");

            var row =
                string.Concat("[{\"DrDiscountAmount3\":null,\"DrPrice\":34,\"BizTypeDesc\":null,\"IsNew\":true,\"MdCode\":\"1010101001\",\"DrAmountAftDiscount1\":\"32.30\",\"DrId\":\"", Guid.NewGuid(), "\",\"DrAmountEditable\":1,\"DrQty\":1,\"MdPackageRatio\":null,\"Relations\":null,\"DrPicPath\":null,\"IsEdited\":false,\"DrSeriesLineNum\":null,\"DrRowType\":\"10\",\"DrMerchIdentityCode\":\"101QYW16\",\"DrBizType\":null,\"DrDiscountAmount1\":0,\"DrDiscountReason3\":null,\"MdLineType\":\"001\",\"DrExternalCode\":null,\"Inventory\":null,\"DrSellerId\":null,\"DrInvQty\":null,\"ParentRemainQty\":null,\"DrOriginPrice\":32.3,\"DrIsEditable\":1,\"DrCreateMode\":\"110\",\"DrQtyEditable\":1,\"Tag\":null,\"DrRemainQty\":null,\"LotStrictManage\":0,\"DrRowTypeMerch\":\"50\",\"LotRelationDesc\":\"\",\"DrDisPriceEditable\":1,\"DrPriceEditable\":1,\"LotRelations\":[],\"NumberOfSkuUnit\":1,\"UniqueManage\":0,\"LotManage\":1,\"DrRealMerchIdentityCode\":\"101QYW16\",\"UniqueList\":null,\"MdBarcode\":\"1010101001\",\"DrProcessedQty\":null,\"IsDeleted\":false,\"DrDiscountPercent1\":\"\",\"DrComment\":null,\"DiscountDetailJson\":null,\"DrDesc\":\"好迪蓝莓西瓜子(公斤)(5)\",\"SourceRowId\":null,\"DrMerchSeriesCode\":\"101QYV16\",\"DrBasePrice\":34,\"DrPriceAftDiscount1\":32.3,\"OriginQty\":1,\"OriginAmount\":34,\"Errors\":[]},{\"DrDiscountAmount3\":null,\"DrPrice\":34,\"BizTypeDesc\":null,\"IsNew\":true,\"MdCode\":\"1010101002\",\"DrAmountAftDiscount1\":\"32.30\",\"DrId\":\"", Guid.NewGuid(), "\",\"DrAmountEditable\":1,\"DrQty\":1,\"MdPackageRatio\":null,\"Relations\":null,\"DrPicPath\":null,\"IsEdited\":false,\"DrSeriesLineNum\":null,\"DrRowType\":\"10\",\"DrMerchIdentityCode\":\"101QYY16\",\"DrBizType\":null,\"DrDiscountAmount1\":0,\"DrDiscountReason3\":null,\"MdLineType\":\"001\",\"DrExternalCode\":null,\"Inventory\":null,\"DrSellerId\":null,\"DrInvQty\":null,\"ParentRemainQty\":null,\"DrOriginPrice\":32.3,\"DrIsEditable\":1,\"DrCreateMode\":\"110\",\"DrQtyEditable\":1,\"Tag\":null,\"DrRemainQty\":null,\"LotStrictManage\":0,\"DrRowTypeMerch\":\"50\",\"LotRelationDesc\":null,\"DrDisPriceEditable\":1,\"DrPriceEditable\":1,\"LotRelations\":[],\"NumberOfSkuUnit\":1,\"UniqueManage\":0,\"LotManage\":1,\"DrRealMerchIdentityCode\":\"101QYY16\",\"UniqueList\":null,\"MdBarcode\":\"1010101002\",\"DrProcessedQty\":null,\"IsDeleted\":false,\"DrDiscountPercent1\":\"\",\"DrComment\":null,\"DiscountDetailJson\":null,\"DrDesc\":\"好迪梅香西瓜子话梅味(公斤)(5)\",\"SourceRowId\":null,\"DrMerchSeriesCode\":\"101QYX16\",\"DrBasePrice\":34,\"DrPriceAftDiscount1\":32.3,\"OriginQty\":1,\"OriginAmount\":34,\"Errors\":[]},{\"DrDiscountAmount3\":null,\"DrPrice\":39.8,\"BizTypeDesc\":null,\"IsNew\":true,\"MdCode\":\"1010101005\",\"DrAmountAftDiscount1\":\"37.80\",\"DrId\":\"", Guid.NewGuid(), "\",\"DrAmountEditable\":1,\"DrQty\":1,\"MdPackageRatio\":null,\"Relations\":null,\"DrPicPath\":null,\"IsEdited\":false,\"DrSeriesLineNum\":null,\"DrRowType\":\"10\",\"DrMerchIdentityCode\":\"101QZ416\",\"DrBizType\":null,\"DrDiscountAmount1\":0,\"DrDiscountReason3\":null,\"MdLineType\":\"001\",\"DrExternalCode\":null,\"Inventory\":null,\"DrSellerId\":null,\"DrInvQty\":null,\"ParentRemainQty\":null,\"DrOriginPrice\":37.8,\"DrIsEditable\":1,\"DrCreateMode\":\"110\",\"DrQtyEditable\":1,\"Tag\":null,\"DrRemainQty\":null,\"LotStrictManage\":0,\"DrRowTypeMerch\":\"50\",\"LotRelationDesc\":null,\"DrDisPriceEditable\":1,\"DrPriceEditable\":1,\"LotRelations\":[],\"NumberOfSkuUnit\":1,\"UniqueManage\":0,\"LotManage\":1,\"DrRealMerchIdentityCode\":\"101QZ416\",\"UniqueList\":null,\"MdBarcode\":\"1010101005\",\"DrProcessedQty\":null,\"IsDeleted\":false,\"DrDiscountPercent1\":\"\",\"DrComment\":null,\"DiscountDetailJson\":null,\"DrDesc\":\"清云休闲驿站西瓜子(公斤)(1X5kg)\",\"SourceRowId\":null,\"DrMerchSeriesCode\":\"101QZ316\",\"DrBasePrice\":39.8,\"DrPriceAftDiscount1\":37.8,\"OriginQty\":1,\"OriginAmount\":39.8,\"Errors\":[]},{\"DrDiscountAmount3\":null,\"DrPrice\":21.8,\"BizTypeDesc\":null,\"IsNew\":true,\"MdCode\":\"1010101006\",\"DrAmountAftDiscount1\":\"20.70\",\"DrId\":\"", Guid.NewGuid(), "\",\"DrAmountEditable\":1,\"DrQty\":1,\"MdPackageRatio\":null,\"Relations\":null,\"DrPicPath\":null,\"IsEdited\":false,\"DrSeriesLineNum\":null,\"DrRowType\":\"10\",\"DrMerchIdentityCode\":\"101QZ616\",\"DrBizType\":null,\"DrDiscountAmount1\":0,\"DrDiscountReason3\":null,\"MdLineType\":\"001\",\"DrExternalCode\":null,\"Inventory\":null,\"DrSellerId\":null,\"DrInvQty\":null,\"ParentRemainQty\":null,\"DrOriginPrice\":20.7,\"DrIsEditable\":1,\"DrCreateMode\":\"110\",\"DrQtyEditable\":1,\"Tag\":null,\"DrRemainQty\":null,\"LotStrictManage\":0,\"DrRowTypeMerch\":\"50\",\"LotRelationDesc\":null,\"DrDisPriceEditable\":1,\"DrPriceEditable\":1,\"LotRelations\":[],\"NumberOfSkuUnit\":1,\"UniqueManage\":0,\"LotManage\":1,\"DrRealMerchIdentityCode\":\"101QZ616\",\"UniqueList\":null,\"MdBarcode\":\"1010101006\",\"DrProcessedQty\":null,\"IsDeleted\":false,\"DrDiscountPercent1\":\"\",\"DrComment\":null,\"DiscountDetailJson\":null,\"DrDesc\":\"苏太太蟹黄瓜子仁(公斤)(2.5kg×2袋)\",\"SourceRowId\":null,\"DrMerchSeriesCode\":\"101QZ516\",\"DrBasePrice\":21.8,\"DrPriceAftDiscount1\":20.7,\"OriginQty\":1,\"OriginAmount\":21.8,\"Errors\":[]},{\"DrDiscountAmount3\":null,\"DrPrice\":21.8,\"BizTypeDesc\":null,\"IsNew\":true,\"MdCode\":\"1010101007\",\"DrAmountAftDiscount1\":\"20.70\",\"DrId\":\"", Guid.NewGuid(), "\",\"DrAmountEditable\":1,\"DrQty\":1,\"MdPackageRatio\":null,\"Relations\":null,\"DrPicPath\":null,\"IsEdited\":false,\"DrSeriesLineNum\":null,\"DrRowType\":\"10\",\"DrMerchIdentityCode\":\"101QZ816\",\"DrBizType\":null,\"DrDiscountAmount1\":0,\"DrDiscountReason3\":null,\"MdLineType\":\"001\",\"DrExternalCode\":null,\"Inventory\":null,\"DrSellerId\":null,\"DrInvQty\":null,\"ParentRemainQty\":null,\"DrOriginPrice\":20.7,\"DrIsEditable\":1,\"DrCreateMode\":\"110\",\"DrQtyEditable\":1,\"Tag\":null,\"DrRemainQty\":null,\"LotStrictManage\":0,\"DrRowTypeMerch\":\"50\",\"LotRelationDesc\":null,\"DrDisPriceEditable\":1,\"DrPriceEditable\":1,\"LotRelations\":[],\"NumberOfSkuUnit\":1,\"UniqueManage\":0,\"LotManage\":1,\"DrRealMerchIdentityCode\":\"101QZ816\",\"UniqueList\":null,\"MdBarcode\":\"1010101007\",\"DrProcessedQty\":null,\"IsDeleted\":false,\"DrDiscountPercent1\":\"\",\"DrComment\":null,\"DiscountDetailJson\":null,\"DrDesc\":\"苏太太原味瓜子仁(公斤)(2.5kg×2袋)\",\"SourceRowId\":null,\"DrMerchSeriesCode\":\"101QZ716\",\"DrBasePrice\":21.8,\"DrPriceAftDiscount1\":20.7,\"OriginQty\":1,\"OriginAmount\":21.8,\"Errors\":[]}]");

            WebTestRequest request3 = new WebTestRequest("http://192.168.0.40:7010/AjaxForm/DocumentAjax.aspx");
            request3.Method = "POST";
            FormPostHttpBody request3Body = new FormPostHttpBody();
            request3Body.FormPostParameters.Add("fun", "savedoc");
            request3Body.FormPostParameters.Add("rowsJson", row);
            request3Body.FormPostParameters.Add("paymentsJson", "[]");
            request3Body.FormPostParameters.Add("docJson", doc);
            request3Body.FormPostParameters.Add("docId", dtid.ToString());
            request3Body.FormPostParameters.Add("status", "30");
            request3Body.FormPostParameters.Add("changeNum", "null");
            request3Body.FormPostParameters.Add("docType", "SO");
            request3Body.FormPostParameters.Add("docSubType", "NSO");
            request3.Body = request3Body;
            yield return request3;
            request3 = null;
        }
    }
}
